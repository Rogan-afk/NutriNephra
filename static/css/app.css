/* ===== Stronger glass so text is legible ===== */
:root{
  /* increase opacity to make cards solid enough over bg image */
  --glass-bg: rgba(15, 22, 38, 0.72);
  --glass-border: rgba(255, 255, 255, 0.18);
  --glass-text: #f7f9ff;
  --glass-head: linear-gradient(90deg, rgba(30,68,109,.90) 0%, rgba(40,81,128,.90) 100%);
}

.card.glass{
  background: var(--glass-bg) !important;
  border: 1px solid var(--glass-border);
  border-radius: 14px;
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(10px);
  color: var(--glass-text);
}
.card.glass .card-body,
.card.glass .card-body *{
  color: var(--glass-text) !important;   /* FORCE readable text in cards */
}

/* Headings */
.card-h{
  background: var(--glass-head);
  color: #fff !important;
  font-family: 'Merriweather', serif;
  font-weight: 700;
  border-bottom: 0;
  backdrop-filter: blur(8px);
}

/* Textarea on dark glass */
.form-dark{
  background-color: rgba(12, 20, 36, .92);
  border: 1px solid #2b3a53;
  color: #eaf1ff;
}
.form-dark:focus{
  background-color: rgba(12, 20, 36, .98);
  color: #fff;
  border-color: #4d86ff;
  box-shadow: 0 0 0 .2rem rgba(77,134,255,.25);
}

/* Context & References */
.scrollbox{
  max-height: 360px;
  min-height: 140px;      /* ensures the box is visible even with little content */
  overflow-y: auto;
  padding-right: 8px;
}
.context-meta{
  color: #c3d1e8 !important;
  font-size: .82rem;
  margin-bottom: .25rem;
}
.context-snippet{
  color: #ffffff !important;
  font-size: .95rem;
  line-height: 1.47;
  margin: .15rem 0 .85rem 0;
}
.preserve{
  white-space: pre-wrap;
  background: transparent !important;
  border: 0 !important;
  padding: 0 !important;
}
.reference-list{
  padding-left: 1.25rem;
  margin-bottom: 0;
}
.reference-list li{
  margin: .35rem 0;
}

/* Divider */
.hr-faint{
  border: none;
  border-top: 1px solid rgba(255,255,255,.22);
  margin: .6rem 0;
}

/* Highlight for keyword hits */
mark {
  background: #fff3a3;
  color: #111;
  padding: 0 .12rem;
  border-radius: 4px;
}


/* Optional: visible scrollbars */
.scrollbox::-webkit-scrollbar{ width: 8px; }
.scrollbox::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.28); border-radius: 6px; }
.scrollbox::-webkit-scrollbar-track{ background: transparent; }

/* Ensure image area is visible on glass cards */
.context-img{
  display: block;
  width: 100%;
  height: auto;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.15);
}

/* Brighter caption (no muted gray) */
.img-cap{
  color: #ffffff !important;
  font-size: .88rem;
  line-height: 1.35;
}

/* Highlight for keyword hits in captions (shared with text excerpts) */
mark{
  background: #fff3a3;
  color: #111;
  padding: 0 .12rem;
  border-radius: 4px;
}
